<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Documentì™€ Dom íƒìƒ‰--</title>
    <style>
            /* ì‹œê° í™•ì¸ìš© ë³´ì¡° ìŠ¤íƒ€ì¼ */
        .red { color: red; }
        .active { font-weight: bold; }
        .selected { outline: 2px solid #3a86ff; }
        .open { text-decoration: underline; }
        .hidden { opacity: .4; }
        .highlight { background: yellow; }
    </style>
</head>
<body>
    <h1>DOM íƒìƒ‰ ì‹¤ìŠµ ë¬¸ì œ 20</h1>
    <p>ê·œì¹™: ì „ì—­ ì„ íƒìœ¼ë¡œ ì§ì ‘ ì°¾ì§€ ë§ê³ (ì˜ˆ: <code>document.getElementById</code>), ì»¨í…Œì´ë„ˆì—ì„œ ì‹œì‘í•´ <code>children</code>, <code>first/lastElementChild</code>, <code>next/previousElementSibling</code>, <code>closest</code>, <code>querySelector(All)</code> ë“±ì„ í™œìš©í•´ â€œê´€ê³„ ê¸°ë°˜â€ìœ¼ë¡œ íƒìƒ‰Â·ìˆ˜ì •í•˜ì„¸ìš”.</p>

    <section id="q1">
        <h3>ë¬¸ì œ 1. ì²« ìì‹ í…ìŠ¤íŠ¸ ë°”ê¾¸ê¸°</h3>
        <p class="task">ì§€ì‹œ: ì•„ë˜ <code>#card</code>ì˜ ì²« ë²ˆì§¸ ìì‹ ìš”ì†Œ í…ìŠ¤íŠ¸ë¥¼ <strong>â€œë‚´ìš© Câ€</strong>ë¡œ ë°”ê¿”ë¼.</p>
        <div id="card">
            <h3>ì œëª©</h3>
            <p>ë‚´ìš© A</p>
            <p>ë‚´ìš© B</p>
        </div>
    </section>
    <script>
        let cardChildLi=document.querySelector("#card>:first-child");
        cardChildLi.innerText="ë‚´ìš©ë‚´ìš©C"
    </script>

    <section id="q2">
        <h3>ë¬¸ì œ 2. ë§ˆì§€ë§‰ ìì‹ í´ë˜ìŠ¤ ì¶”ê°€</h3>
        <p class="task">ì§€ì‹œ: ì•„ë˜ <code>#menu</code>ì˜ ë§ˆì§€ë§‰ ìì‹ <code>li</code>ì— í´ë˜ìŠ¤ <strong>red</strong>ë¥¼ ì¶”ê°€í•˜ë¼.</p>
        <ul id="menu">
            <li>í™ˆ</li>
            <li>ìˆ˜ì—…</li>
            <li>ë¬¸ì˜</li>
        </ul>
    </section>
    <script>
        let menu=document.querySelector("#menu");
        // menu.children[0].className="red";
        menu.children[0].classList.add("red");
        console.log(menu.children[0].classList)
        //DOMTokenList :ìœ ì‚¬ ë°°ì—´
    </script>

    <section id="q3">
        <h3>ë¬¸ì œ 3. í˜•ì œ ì´ì „/ë‹¤ìŒ í‘œì‹œ</h3>
        <p class="task">ì§€ì‹œ: <code>.focus</code>ì—ì„œ ì´ì „ í˜•ì œì—” â€œ<strong>(prev)</strong>â€, ë‹¤ìŒ í˜•ì œì—” â€œ<strong>(next)</strong>â€ë¥¼ í…ìŠ¤íŠ¸ ë’¤ì— ì¶”ê°€í•˜ë¼.</p>
        <div id="list">
            <span class="item">A </span>
            <span class="item focus">B</span>
            <span class="item">C</span>
        </div>
        <script>
            let focusSpan=document.querySelector("#list>.focus");
            focusSpan.previousElementSibling.innerText+=" prev ";
            focusSpan.nextElementSibling.innerText+=" next ";
        </script>


    </section>

    <section id="q4">
        <h3>ë¬¸ì œ 4. children ì¸ë±ì‹±</h3>
        <p class="task">ì§€ì‹œ: <code>#tabs</code>ì˜ ë‘ ë²ˆì§¸ ë²„íŠ¼(<code>children[1]</code>)ì— í´ë˜ìŠ¤ <strong>selected</strong>ë¥¼ ì¶”ê°€í•˜ë¼.</p>
        <div id="tabs">
            <button>íƒ­1</button>
            <button>íƒ­2</button>
            <button>íƒ­3</button>
        </div>
    </section>
    <script>
        // document.querySelector("#tabs").children[1].classList.add("selected");
        document.querySelector("#tabs>:nth-child(2)").classList.add("selected");
    </script>



    <section id="q5">
        <h3>ë¬¸ì œ 5. closestë¡œ ì¹´ë“œ ì œëª© ë³€ê²½</h3>
        <p class="task">ì§€ì‹œ: <code>.edit</code> ë²„íŠ¼ì—ì„œ ì¶œë°œí•´ ê°€ì¥ ê°€ê¹Œìš´ ì¹´ë“œì˜ ì œëª©(<code>.card-title</code>)ì„ ì°¾ì•„ í…ìŠ¤íŠ¸ë¥¼ <strong>â€œí”„ë¡œí•„(ìˆ˜ì • ëª¨ë“œ)â€</strong>ë¡œ ë°”ê¿”ë¼.</p>
        <article class="card">
            <header class="card-title">í”„ë¡œí•„</header>
            <div class="card-body">
                <button class="edit">í¸ì§‘</button>
            </div>
        </article>
        <article class="card">
            <header class="card-title">í”„ë¡œí•„</header>
            <div class="card-body">
                <button class="edit">í¸ì§‘</button>
            </div>
        </article>
    </section>
    <script>
         let editBtns=document.querySelectorAll(".card .edit");
         console.log(editBtns)
         for(let btn of editBtns){
             btn.onclick=()=>{
                 btn.closest(".card").querySelector(".card-title")
                     .innerText+="(í¸ì§‘ëª¨ë“œ)"
             }
         }

    </script>
    <section id="q6">
        <h3>ë¬¸ì œ 6. contains í™•ì¸ í›„ í…ìŠ¤íŠ¸ ë³€ê²½</h3>
        <p class="task">ì§€ì‹œ: <code>#panel</code>ì˜ <code>.info</code>ê°€ <code>.msg</code>ë¥¼ í¬í•¨í•˜ë©´ <code>.msg</code>ì˜ í…ìŠ¤íŠ¸ë¥¼ <strong>â€œì•ˆë‚´(í™•ì¸ë¨)â€</strong>ìœ¼ë¡œ ë°”ê¿”ë¼.</p>
        <section id="panel">
            <div class="wrap">
                <p class="info">ì•ˆë‚´</p>
                <p class="info msg">ì•ˆë‚´</p>
                <p class="info">ì•ˆë‚´</p>
                <p class="info msg">ì•ˆë‚´</p>
                <p class="info">ì•ˆë‚´</p>
                <p class="info">ì•ˆë‚´</p>
                <p class="info msg">ì•ˆë‚´</p>
            </div>
        </section>
    </section>
    <script>
        //?. : í•„ë“œê°€ ìˆìœ¼ë©´
        // && : ìˆì„ë•Œ ê¹Œì§€ ì‹¤í–‰ (í•„ë“œê²€ì‚¬)

       //ë¶€ëª¨ìš”ì†Œ.contains(ìì‹ìš”ì†Œ) => boolean
       //let msgP=document.querySelector("#panel .msg");
       // if(msgP) msgP.innerText+=(" (í™•ì¸ë¨)");
       ///msgP && ( msgP.innerText+=(" (í™•ì¸ë¨)") );
       //let p=document.querySelector("#panel");
        let infos=document.querySelectorAll("#panel .info");

        for(let info of infos){
            if(info.classList.contains("msg")){
                info.innerText+="(í™•ì¸ë¨)";
            }
        }

    </script>

    <section id="q7">
        <h3>ë¬¸ì œ 7. matchesë¡œ ì¡°ê±´ë¶€ í´ë˜ìŠ¤</h3>
        <p class="task">ì§€ì‹œ: <code>#box</code>ì˜ ì²« ìì‹ì´ <code>.title</code>ì— ë§¤ì¹­ë˜ë©´ í•´ë‹¹ ìš”ì†Œì— í´ë˜ìŠ¤ <strong>highlight</strong>ë¥¼ ì¶”ê°€í•˜ë¼.</p>
        <div id="box">
            <h4 class="title">ê³µì§€</h4>
            <h4>ì¼ë°˜</h4>
        </div>
    </section>

    <section id="q8">
        <h3>ë¬¸ì œ 8. classList í† ê¸€</h3>
        <p class="task">ì§€ì‹œ: ì•„ë˜ <code>#notice</code> ë‚´ë¶€ <code>.desc</code>ì˜ í´ë˜ìŠ¤ <strong>on</strong>ì„ í† ê¸€í•˜ë¼.</p>
        <div id="notice">
            <p class="desc on">ë³´ì´ëŠ” ì„¤ëª…</p>
        </div>
    </section>

    <section id="q9">
        <h3>ë¬¸ì œ 9. ë²”ìœ„ í•œì •ìœ¼ë¡œ ì²« ì•„ì´í…œ ì„ íƒ</h3>
        <p class="task">ì§€ì‹œ: <code>.section</code> ìš”ì†Œë¥¼ ì‹œì‘ì ìœ¼ë¡œ ë‚´ë¶€ ë¦¬ìŠ¤íŠ¸ì˜ ì²« ë²ˆì§¸ <code>.item</code>ì— í´ë˜ìŠ¤ <strong>selected</strong>ë¥¼ ì¶”ê°€í•˜ë¼. (ì „ì—­ ê²€ìƒ‰ ê¸ˆì§€)</p>
        <section class="section">
            <div class="toolbar"><button class="btn">A</button></div>
            <ul class="list">
                <li class="item">1</li>
                <li class="item">2</li>
            </ul>
        </section>
    </section>

    <section id="q10">
        <h3>ë¬¸ì œ 10. í…ìŠ¤íŠ¸ ë…¸ë“œ ê±´ë„ˆë›°ê¸°</h3>
        <p class="task">ì§€ì‹œ: ìš”ì†Œ ì „ìš© í˜•ì œ ì´ë™ì„ ì‚¬ìš©í•˜ì—¬ ë‘ ë²ˆì§¸ <code>&lt;span&gt;</code>ì˜ í…ìŠ¤íŠ¸ ë’¤ì— <strong>â€œ!â€</strong>ë¥¼ ì¶”ê°€í•˜ë¼. (<code>nextElementSibling</code> ì‚¬ìš©)</p>
        <div id="wrap">
            <span>X</span>
            <!-- ì£¼ì„ -->
            <span>Y</span>
        </div>
    </section>

    <section id="q11">
        <h3>â˜…â˜…â˜… ë¬¸ì œ 11. ë¶€ëª¨ë¡œ ì˜¬ë¼ê°€ íƒ€ì´í‹€ ìˆ˜ì •</h3>
        <p class="task">ì§€ì‹œ: <code>.more</code>ì—ì„œ ë¶€ëª¨(<code>.body</code>)ë¥¼ ê±°ì³ ì¹´ë“œ ë£¨íŠ¸(<code>.card</code>)ë¡œ ì˜¬ë¼ê°„ í›„, ê·¸ ì•ˆì˜ <code>.title</code>ì— í´ë˜ìŠ¤ <strong>open</strong>ì„ ì¶”ê°€í•˜ë¼.</p>
        <div class="card">
            <h3 class="title">ì œëª©1</h3>
            <div class="body">
                <div class="more">
                    <button>ë”ë³´ê¸°</button>
                </div>
            </div>
        </div>
        <div class="card">
            <h3 class="title">ì œëª©2</h3>
            <div class="body">
                <div class="more">
                    <button>ë”ë³´ê¸°</button>
                </div>
            </div>
        </div>
        <div class="card">
            <h3 class="title">ì œëª©3</h3>
            <div class="body">
                <div class="more">
                    <button>ë”ë³´ê¸°</button>
                </div>
            </div>
        </div>
    </section>
    <script>
        const moreBtns=q11.querySelectorAll('.card .more');
        for (let btn of moreBtns){
            btn.addEventListener('click',(e)=>{
                //event object: ì´ë²¤íŠ¸ì— ëŒ€í•œ ë°œìƒì •ë³´
                //e.target: ì´ë²¤íŠ¸ê°€ ë°œìƒí•œ í‹°ì¼“
                //e.currentTarget: ì´ë²¤íŠ¸ë¥¼ ì •ì˜í•œ íƒ€ê²Ÿ?
                //this (x)
                //console.log(e.target);
                //console.log(e.currentTarget);

                let card=e.currentTarget.closest('.card');
                card.querySelector('.title').classList.toggle('open');

            })
        }
    </script>

    <section id="q12">
        <h3>ë¬¸ì œ 12. íŠ¹ì • ì¸ë±ìŠ¤ ìì‹ êµì²´</h3>
        <p class="task">ì§€ì‹œ: ì•„ë˜ <code>#steps</code>ì˜ ë‘ ë²ˆì§¸ í•­ëª©(<code>children[1]</code>) í…ìŠ¤íŠ¸ë¥¼ <strong>â€œê²€í† â€</strong>ë¡œ ë°”ê¿”ë¼.</p>
        <ol id="steps">
            <li>ì‹œì‘</li>
            <li>ì¤‘ê°„</li>
            <li>ì¢…ë£Œ</li>
        </ol>
    </section>
    <script>
        steps.children[1].innerText='ê²€í† ';
    </script>


    <section id="q13">
        <h3>â˜…â˜…â˜… ë¬¸ì œ 13. data-* ì½ê³  ì“°ê¸°</h3>
        <p class="task">ì§€ì‹œ: <code>#product</code>ì˜ <code>data-stock</code> ê°’ì„ ì½ì–´ 0ì´ë©´ <strong>â€œ(í’ˆì ˆ)â€</strong>, ì•„ë‹ˆë©´ <strong>â€œ(ì¬ê³ : n)â€</strong>ì„ <code>.name</code> ë’¤ì— ì¶”ê°€í•˜ë¼.</p>
        <p>
            <button id="stockBtn">ì¬ê³ í™•ì¸</button>
        </p>
        <div class="product" data-id="A-100" data-stock="7">
            <span class="name">í‚¤ë³´ë“œ</span>
        </div>
        <div class="product" data-id="A-177" data-stock="0">
            <span class="name">ëª¨ë‹ˆí„°</span>
        </div>
        <div class="product" data-id="A-179" data-stock="20">
            <span class="name">ë§ˆìš°ìŠ¤</span>
        </div>
    </section>
    <script>
        const products=document.querySelectorAll('#q13 .product');
        //console.log(products);

        const stockHandler=()=>{ //this ì•ˆ ì“°ë‹ˆê¹Œ í™”ì‚´í‘œí•¨ìˆ˜ ì¨ë„ ëŒ
            for (let p of products){
                let stock=p.dataset.stock; //console.log(stock); â‡’ 7, 0, 20
                let nameNode=p.querySelector('.name');
                if (stock>0){
                    nameNode.innerText+=` (ì¬ê³ : ${stock})`
                }else {
                    nameNode.classList.add('highlight');
                    nameNode.innerText+=` (í’ˆì ˆ)`
                }
            }
        }
        stockBtn.addEventListener('click', stockHandler);
    </script>


    <section id="q14">
        <h3>ë¬¸ì œ 14. style ìˆ˜ì •</h3>
        <p class="task">ì§€ì‹œ: <code>.panel</code> ë‚´ë¶€ <code>.msg</code>ì˜ ê¸€ììƒ‰ì„ <strong>red</strong>, ê¸€ì í¬ê¸°ë¥¼ <strong>20px</strong>ë¡œ ë°”ê¿”ë¼.</p>
        <div class="panel">
            <p class="">ì•Œë¦¼</p>
            <p class="">ì•Œë¦¼</p>
            <p class="msg">ì•Œë¦¼</p>
            <p class="">ì•Œë¦¼</p>
            <p class="msg">ì•Œë¦¼</p>
        </div>
    </section>
    <script>
        const msgs=document.querySelectorAll('#q14 .msg');
        for (let msg of msgs){
            //msg.style.color='red';
            //msg.style.fontSize='20px';
            //â””â”€ ë³µìˆ˜ ë³€ê²½ì„ ì´ë ‡ê²Œ í•˜ëŠ”ê±´ ê·¸ë‹¤ì§€ ì¢‹ì§€ ì•ŠìŒ
            //Object assign(ê°ì²´.í•„ë“œ,{}) â‡’ í•„ë“œì˜ ë³µìˆ˜ë¥¼ ì§€ì •.. ë„ìš©

            let styleObj={
                color:'blue',
                fontSize:'20px'
            }
            Object.assign(msg.style,styleObj);
        }
    </script>


    <section id="q15">
        <h3>ë¬¸ì œ 15. innerHTMLë¡œ ì•„ì´ì½˜ ì‚½ì…</h3>
        <p class="task">ì§€ì‹œ: <code>.action</code> ë²„íŠ¼ì˜ í…ìŠ¤íŠ¸ ì•ì— <code>&lt;span class="icon"&gt;ğŸ—‘ï¸&lt;/span&gt;</code>ì„ ì‚½ì…í•˜ë¼. (ë²„íŠ¼ì„ ê´€ê³„ íƒìƒ‰ìœ¼ë¡œ ì¡ê³  <code>innerHTML</code> ì‚¬ìš©)</p>
        <button class="action">ì‚­ì œ</button>
    </section>



    <section id="q16">
        <h3>ë¬¸ì œ 16. í˜•ì œ ìˆœíšŒë¡œ ë²ˆí˜¸ ë§¤ê¸°ê¸°</h3>
        <p class="task">ì§€ì‹œ: ì²« ë²ˆì§¸ <code>li</code>ì—ì„œ ì‹œì‘í•˜ì—¬ í˜•ì œ ìš”ì†Œë“¤ì„ ìˆœíšŒí•˜ë©° ê°ê° ì•ì— <strong>â€œ1. â€, â€œ2. â€, â€œ3. â€</strong>ì„ ë¶™ì—¬ë¼.</p>
        <ul class="posts">
            <li>A</li>
            <li>B</li>
            <li>C</li>
        </ul>
    </section>
    <script>
        const q16Posts=document.querySelector('.posts');
        let n=0;
        for (let li of q16Posts.children){
            li.innerText=`${++n}. ${li.innerText}`
        }
    </script>


    <section id="q17">
        <h3>ë¬¸ì œ 17. closestë¡œ ë¼ë²¨ í‘œì‹œ</h3>
        <p class="task">ì§€ì‹œ: ë‘ ë²ˆì§¸ ì…ë ¥ ìš”ì†Œì—ì„œ ì¶œë°œí•´ ê°€ì¥ ê°€ê¹Œìš´ <code>.row</code>ë¥¼ ì°¾ì•„ ë¼ë²¨ í…ìŠ¤íŠ¸ ë’¤ì— <strong>â€œ(í•„ìˆ˜)â€</strong>ë¥¼ ì¶”ê°€í•˜ë¼.</p>
        <form class="form">
            <label class="row">ì´ë¦„ <input type="text" /></label>
            <label class="row">ì´ë©”ì¼ <input type="email" /></label>
        </form>
    </section>
    <script>
        const emailInput=document.querySelector('[type="email"]'); //[]
        console.log(emailInput.previousSibling); //"ì´ë©”ì¼"
        emailInput.previousSibling.textContent+='(í•„ìˆ˜)';

        /*const rows=q17.querySelectorAll('.row');
        console.log(rows[1].children); //HTMLCollection [input]
        console.log(rows[1].firstChild); //"ì´ë©”ì¼"
        //textNodeëŠ” innerText ëª» ì”€. textContent ì‚¬ìš©í•´ì•¼í•¨
        rows[1].firstChild.textContent+='(í•„ìˆ˜)';*/
    </script>


    <section id="q18">
        <h3>ë¬¸ì œ 18. íŠ¹ì • ì˜ì—­ í•œì • ì„ íƒ</h3>
        <p class="task">ì§€ì‹œ: <code>.board</code>ì˜ <strong>.right</strong>ë¥¼ ì‹œì‘ì ìœ¼ë¡œ ê·¸ ë‚´ë¶€ì˜ ëª¨ë“  <code>.cell</code> ë’¤ì— <strong>â€œ(R)â€</strong>ì„ ì¶”ê°€í•˜ë¼. (ì „ì—­ <code>querySelectorAll</code> ê¸ˆì§€)</p>
        <section class="board" style="display: flex">
            <ul class="left"><li class="cell">L1</li><li class="cell">L2</li></ul>
            <ul class="right"><li class="cell">R1</li><li class="cell">R2</li></ul>
        </section>
    </section>
    <script>
        const rightUl=q18.querySelector('.right'); //ì „ì—­ê¸ˆì§€ë‹ˆê¹Œ document ì‚¬ìš© x
        for (let li of rightUl.children){
            li.innerText+='(R)';
        }
    </script>


    <section id="q19">
        <h3>ë¬¸ì œ 19. ìºëŸ¬ì…€ ì¸ë””ì¼€ì´í„° ì´ë™</h3>
        <p class="task">ì§€ì‹œ: í˜„ì¬ <code>.active</code>ë¥¼ ë‹¤ìŒ í˜•ì œ <code>.dot</code>ìœ¼ë¡œ ì´ë™ì‹œì¼œë¼. (ë§ˆì§€ë§‰ì´ë©´ ì´ë™í•˜ì§€ ì•Šì•„ë„ ë¨)</p>
        <p>
            <button id="nextDotBtn">ë‹¤ìŒ dot</button> <!-- button#nextDotBtn{ë‹¤ìŒ ë‹·} -->
        </p>
        <ol class="dots">
            <li class="dot active">â€¢</li>
            <li class="dot">â€¢</li>
            <li class="dot">â€¢</li>
        </ol>
    </section>
    <script>
        const nextDotBtn=document.querySelector('#nextDotBtn');
        const dotsUl=document.querySelector('#q19 .dots');

        const nextDotBtnHandler=()=>{
            let activeIndex=0;
            for (let i=0; i<dotsUl.children.length; i++){
                let li=(dotsUl.children[i]);
                if (li.classList.contains("active")){
                    activeIndex=i;
                    li.classList.remove('active');
                    break;
                }
            }
            if (activeIndex!==dotsUl.children.length-1){
                dotsUl.children[activeIndex+1].classList.add('active');
            }else {
                dotsUl.children[0].classList.add('active');
            }
        }
        //nextDotBtn.addEventListener('click', nextDotBtnHandler);

        const nextDotBtnHandler2=()=>{
            let activeNode=dotsUl.querySelector('.active');
            activeNode.classList.remove('active');
            if (activeNode.nextElementSibling){
                activeNode.nextElementSibling.classList.add('active');
            }else {
                dotsUl.children[0].classList.add('active');
            }
        }
        nextDotBtn.addEventListener('click', nextDotBtnHandler2);
    </script>


    <section id="q20">
        <h3>ë¬¸ì œ 20. parentâ†’children ì²´ì¸ìœ¼ë¡œ íƒ€ì´í‹€ êµì²´</h3>
        <p class="task">ì§€ì‹œ: <code>#gallery</code>ì—ì„œ <strong>ë¶€ëª¨â†’ìì‹ ê´€ê³„ë§Œ</strong> ì´ìš©í•´ <code>h2.title</code>ì„ ì°¾ì•„ í…ìŠ¤íŠ¸ë¥¼ <strong>â€œì‚¬ì§„ ëª¨ìŒâ€</strong>ìœ¼ë¡œ ë°”ê¿”ë¼. (ì „ì—­ ì„ íƒÂ·ë³µì¡í•œ CSS ì„ íƒì ê¸ˆì§€)</p>
        <section id="gallery">
            <header>
                <h2 class="title">ê°¤ëŸ¬ë¦¬</h2>
            </header>
            <div class="grid">...</div>
        </section>
        <script>
            //const g=q20.querySelector('#gallery');
            gallery.children[0].children[0].innerText='ì‚¬ì§„ëª¨ìŒ';
        </script>

    </section>
</body>
</html>